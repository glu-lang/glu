//
// RUN: gluc %s -o %t && %t | FileCheck -v %s
//

let globalFlag: Bool = getGlobalFlag();
var globalName: String = getGlobalName();

func getGlobalFlag() -> Bool {
    std::print("Initializing globalFlag");
    return true;
}

func getGlobalName() -> String {
    std::print("Initializing globalName");
    return "pizza";
}

func main() -> Int {
    // CHECK: In main
    std::print("In main");
    // CHECK-NEXT: Initializing globalFlag
    if globalFlag {
        // CHECK-NEXT: true
        std::print("true");
    } else {
        std::print("false");
    }
    if globalFlag {
        // CHECK-NEXT: Initializing globalName
        // CHECK-NEXT: pizza
        std::print(globalName);
    }
    globalName = "Done";
    // CHECK-NEXT: Done
    std::print(globalName);
    return 0;
}
