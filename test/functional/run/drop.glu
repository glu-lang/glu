//
// RUN: gluc --print-gilgen %s | FileCheck -v %s
//

struct NonTrivial {}

// CHECK-LABEL: gil @drop
func drop(x: *NonTrivial) {
    // some drop logic
    // CHECK-NOT: drop %
}

// CHECK-LABEL: gil @main
func main() {
    while true {
        var a: NonTrivial = {};
        {
            let b: NonTrivial = a;
        } // CHECK: drop %{{[0-9]+}} : $NonTrivial
        break; // CHECK: drop %{{[0-9]+}} : $NonTrivial
    } // CHECK: drop %{{[0-9]+}} : $NonTrivial
}
